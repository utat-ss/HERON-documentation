

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Test Harness &mdash; UTAT Space Systems Documentation 1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Our Toolchain" href="our_toolchain.html" />
    <link rel="prev" title="Software Workflow" href="software-workflow.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> UTAT Space Systems Documentation
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/rtsys.html">Real-Time Embedded Systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/avr-toolchain.html">The AVR Toolchain</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/install.html">Software Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/install-mac.html">Software Installation - macOS</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/install-win.html">Software Installation - Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/install-linux.html">Software Installation - Linux</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/atmega32m1.html">The ATMega32M1 Microcontroller</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/hello-world.html">Hello World ATMega32M1</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting-started/git-and-github.html">Git and Github</a></li>
</ul>
<p class="caption"><span class="caption-text">Software and Programming</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../software-and-programming.html">Software and Programming</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="software-workflow.html">Software Workflow</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Test Harness</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#running-the-test-harness">Running the Test Harness</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="our_toolchain.html">Our Toolchain</a></li>
<li class="toctree-l2"><a class="reference internal" href="lib-common.html">lib-common</a></li>
<li class="toctree-l2"><a class="reference internal" href="lib-common.html#switch-lib-common-to-a-different-branch">Switch lib-common to a Different Branch</a></li>
<li class="toctree-l2"><a class="reference internal" href="uart-terminal.html">UART Terminal</a></li>
<li class="toctree-l2"><a class="reference internal" href="../troubleshooting/troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../embedded/microcontrollers.html">Microcontrollers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../embedded/registers.html">Registers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../embedded/interrupts.html">Interrupts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../embedded/avr-fuses.html">AVR Fuses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../communication-protocols/communication-protocols.html">Communication Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../communication-protocols/can.html">CAN (Controller Area Network)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../communication-protocols/can-mobs.html">Message Objects (MObs)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../communication-protocols/can-mob-allocation.html">MOb Allocation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../communication-protocols/spi.html">SPI (Serial Peripheral Interface)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../communication-protocols/spi-bus.html">SPI Bus</a></li>
<li class="toctree-l2"><a class="reference internal" href="../communication-protocols/spi-using-spi.html">Using our SPI Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../communication-protocols/uart.html">UART (Universal Asynchronous Receiver Transmitter)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c-programming/introduction.html">C Programming</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c-programming/variables.html">Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c-programming/operators.html">Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c-programming/bitwise-operators.html">Bitwise Operators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c-programming/control-structures.html">Control Structures</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c-programming/functions.html">Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c-programming/header-files.html">Header Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c-programming/header-files.html#define">#define</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c-programming/header-files.html#typedef">typedef</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c-programming/pointers.html">Pointers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c-programming/structs.html">Structs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c-programming/c_h_files.html"><code class="docutils literal"><span class="pre">.c</span></code> and <code class="docutils literal"><span class="pre">.h</span></code> Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c-programming/binary-hex-literals.html">Binary (0b) and Hexadecimal (0x) Literals</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c-programming/integer-types.html">Integer Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c-programming/print-formatting.html">Print Formatting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../c-programming/volatile-variables.html">Volatile Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../style-guide/style-guide.html">Software Style Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../style-guide/technical.html">Technical</a></li>
<li class="toctree-l2"><a class="reference internal" href="../style-guide/formatting.html">Formatting</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Electronics and Altium</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../electronics-and-altium.html">Electronics and Altium</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">UTAT Space Systems Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../software-and-programming.html">Software and Programming</a> &raquo;</li>
        
      <li>Test Harness</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/software-tools/test-harness.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="test-harness">
<span id="test-harness"></span><h1>Test Harness<a class="headerlink" href="#test-harness" title="Permalink to this headline">¶</a></h1>
<p>The <strong>test harness</strong> is a program we use to automate testing parts of our code. It
takes a folder of test programs, uploads each program to the microcontroller,
runs it, observes its output, determines whether the tests passed or failed, and
prints the results.</p>
<p>Each <strong>test suite</strong> contains a set of tests, which contain assertion statements.
An <strong>assertion</strong> is a condition we expect to be true at a certain time if the
program is working correctly. If all assertions succeed, the program is working
correctly. If any assertion fails, we know the program is not working correctly
and can isolate the problem.</p>
<p>The test harness is written in Python and requires the <code class="docutils literal"><span class="pre">pyserial</span></code> library to be
installed.</p>
<div class="section" id="running-the-test-harness">
<span id="running-the-test-harness"></span><h2>Running the Test Harness<a class="headerlink" href="#running-the-test-harness" title="Permalink to this headline">¶</a></h2>
<p>The test harness Python script is located in <code class="docutils literal"><span class="pre">lib-common/bin/harness.py</span></code>.</p>
<p>The command to run the test harness is:</p>
<p><code class="docutils literal"><span class="pre">$</span> <span class="pre">python</span> <span class="pre">harness.py</span> <span class="pre">-p</span> <span class="pre">&lt;port&gt;</span> <span class="pre">-d</span> <span class="pre">tests</span></code></p>
<p><strong>IMPORTANT NOTES:</strong></p>
<p><strong>You must replace</strong> <code class="docutils literal"><span class="pre">&lt;port&gt;</span></code> with the port the programmer is connected to (what you normally use to upload programs), for example <code class="docutils literal"><span class="pre">$</span> <span class="pre">python</span> <span class="pre">harness.py</span> <span class="pre">-p</span> <span class="pre">/dev/tty.usbmodem00208212</span> <span class="pre">-d</span> <span class="pre">tests</span></code> (Mac) or <code class="docutils literal"><span class="pre">$</span> <span class="pre">python</span> <span class="pre">harness.py</span> <span class="pre">-p</span> <span class="pre">COM3</span> <span class="pre">-d</span> <span class="pre">tests</span></code> (Windows).</p>
<p><strong>You may have to replace</strong> <code class="docutils literal"><span class="pre">harness.py</span></code> with the path to the Python script, such as <code class="docutils literal"><span class="pre">bin/harness.py</span></code> if you are running from the <code class="docutils literal"><span class="pre">lib-common</span></code> folder.</p>
<p><strong>You may have to replace</strong> <code class="docutils literal"><span class="pre">tests</span></code> with the path to the folder of your test files.</p>
<p><strong>If you are running tests that use 2 boards</strong> (e.g. CAN), you must specify a second port with a space after the first port, e.g. <code class="docutils literal"><span class="pre">$</span> <span class="pre">python</span> <span class="pre">harness.py</span> <span class="pre">-p</span> <span class="pre">/dev/tty.usbmodem00208212</span> <span class="pre">/dev/tty.usbmodem00187462</span> <span class="pre">-d</span> <span class="pre">tests</span></code>.</p>
<p>See the <a class="reference external" href="https://github.com/HeronMkII/lib-common/pull/28">pull request for the test harness’ development</a> for more details.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="our_toolchain.html" class="btn btn-neutral float-right" title="Our Toolchain" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="software-workflow.html" class="btn btn-neutral" title="Software Workflow" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, University of Toronto Aerospace Team.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'1.0',
            LANGUAGE:'None',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>